{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Todde Design Token Feed",
  "description": "Defines the payload exported from Style Dictionary into Tailwind and Django components.",
  "type": "object",
  "required": ["version", "colors", "typography", "spacing", "motion"],
  "properties": {
    "version": {
      "type": "string",
      "description": "SemVer string for the token snapshot"
    },
    "colors": {
      "type": "object",
      "required": ["primary", "secondary", "neutral", "feedback"],
      "properties": {
        "primary": {
          "type": "object",
          "required": ["base", "contrast"],
          "properties": {
            "base": { "type": "string", "pattern": "^#([A-Fa-f0-9]{6})$" },
            "contrast": { "type": "string", "pattern": "^#([A-Fa-f0-9]{6})$" }
          }
        },
        "secondary": {
          "type": "object",
          "required": ["base", "contrast"],
          "properties": {
            "base": { "type": "string", "pattern": "^#([A-Fa-f0-9]{6})$" },
            "contrast": { "type": "string", "pattern": "^#([A-Fa-f0-9]{6})$" }
          }
        },
        "neutral": {
          "type": "object",
          "patternProperties": {
            "^[0-9]{3}$": {
              "type": "string",
              "pattern": "^#([A-Fa-f0-9]{6})$"
            }
          },
          "minProperties": 5
        },
        "feedback": {
          "type": "object",
          "required": ["success", "warning", "error", "info"],
          "properties": {
            "success": { "type": "string", "pattern": "^#([A-Fa-f0-9]{6})$" },
            "warning": { "type": "string", "pattern": "^#([A-Fa-f0-9]{6})$" },
            "error": { "type": "string", "pattern": "^#([A-Fa-f0-9]{6})$" },
            "info": { "type": "string", "pattern": "^#([A-Fa-f0-9]{6})$" }
          }
        }
      }
    },
    "typography": {
      "type": "object",
      "required": ["fontFamily", "scale"],
      "properties": {
        "fontFamily": { "type": "string" },
        "scale": {
          "type": "object",
          "patternProperties": {
            "^(h1|h2|h3|subtitle|body|caption)$": {
              "type": "object",
              "required": ["size", "lineHeight", "weight"],
              "properties": {
                "size": { "type": "string", "pattern": "^[0-9]+px$" },
                "lineHeight": { "type": "string", "pattern": "^[0-9]+px$" },
                "weight": { "type": "integer", "enum": [300, 400, 500, 600, 700] }
              }
            }
          }
        }
      }
    },
    "spacing": {
      "type": "object",
      "required": ["unit", "scale"],
      "properties": {
        "unit": { "type": "integer", "const": 4 },
        "scale": {
          "type": "object",
          "patternProperties": {
            "^[1-9][0-9]*$": { "type": "integer", "minimum": 4, "multipleOf": 4 }
          },
          "minProperties": 4
        }
      }
    },
    "motion": {
      "type": "object",
      "required": ["durations", "easing"],
      "properties": {
        "durations": {
          "type": "object",
          "properties": {
            "fast": { "type": "string", "pattern": "^[0-9]+ms$" },
            "moderate": { "type": "string", "pattern": "^[0-9]+ms$" },
            "slow": { "type": "string", "pattern": "^[0-9]+ms$" },
            "linger": { "type": "string", "pattern": "^[0-9]+ms$" }
          }
        },
        "easing": {
          "type": "object",
          "properties": {
            "standard": { "type": "string" },
            "emphasized": { "type": "string" },
            "exit": { "type": "string" }
          }
        }
      }
    }
  },
  "additionalProperties": false
}
