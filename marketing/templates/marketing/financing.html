{% extends 'base.html' %}
{% load marketing_icons %}

{% block title %}{{ meta.title }}{% endblock %}
{% block meta_description %}{{ meta.description }}{% endblock %}

{% block content %}
<section class="relative isolate overflow-hidden bg-todde-blue text-white">
  <div class="absolute inset-0">
    <img
      src="{{ hero_background_image_url }}"
      alt="Professional receiving car keys"
      class="h-full w-full object-cover opacity-30"
    />
  <div class="absolute inset-0 bg-gradient-to-br from-todde-blue via-todde-blue/90 to-todde-jet/80"></div>
  </div>
  <div class="container relative z-10 grid gap-12 py-24 lg:grid-cols-2 lg:items-center">
    <div class="space-y-6">
      <h1 class="text-4xl font-bold leading-tight md:text-5xl">{{ hero_title }}</h1>
      <p class="text-lg text-white/80">
        {{ hero_subtitle }}
      </p>
      <div class="flex flex-col gap-4 sm:flex-row">
        {% if hero_primary_cta.label and hero_primary_cta.url %}
        <a href="{{ hero_primary_cta.url }}" class="todde-button-primary">{{ hero_primary_cta.label }}</a>
        {% endif %}
        {% if hero_secondary_cta.label and hero_secondary_cta.url %}
        <a href="{{ hero_secondary_cta.url }}" class="todde-button-secondary bg-white text-todde-blue hover:bg-white/80">{{ hero_secondary_cta.label }}</a>
        {% endif %}
      </div>
      <dl class="grid gap-6 pt-4 sm:grid-cols-3">
        {% for highlight in financing_highlights %}
          <div class=" bg-white/10 p-4">
            <dt class="text-sm text-white/70">{{ highlight.description }}</dt>
            <dd class="text-2xl font-semibold">{{ highlight.title }}</dd>
          </div>
        {% endfor %}
      </dl>
    </div>
    <div class="relative  bg-white/10 p-6 backdrop-blur">
      <div class=" bg-white/10 p-6">
        <h2 class="text-2xl font-semibold">Financing snapshot</h2>
        <ul class="mt-6 space-y-4 text-sm text-white/80">
          {% for item in financing_snapshot_items %}
          <li class="flex items-start gap-3">
            {% marketing_icon 'heroicons:check' 'mt-1 h-5 w-5 text-todde-blue' %}
            <span>{{ item.text }}</span>
          </li>
          {% endfor %}
        </ul>
      </div>
      <div class="absolute -bottom-10 left-1/2 w-60 -translate-x-1/2  bg-white/90 p-5 text-center text-sm text-todde-dark shadow-card">
        <p class="font-semibold text-todde-blue">{{ hero_callout_title }}</p>
        <p class="text-xs text-todde-dark/70">{{ hero_callout_text }}</p>
      </div>
    </div>
  </div>
</section>

<section class="container py-20" aria-labelledby="financing-steps">
  <div class="mx-auto max-w-3xl text-center">
    <h2 id="financing-steps" class="text-3xl font-bold text-todde-blue md:text-4xl">{{ steps_heading }}</h2>
    {% if steps_subheading %}
    <p class="mt-4 text-lg text-todde-dark/70">{{ steps_subheading }}</p>
    {% endif %}
  </div>
  <ol class="mx-auto mt-12 max-w-4xl space-y-8">
    {% for step in financing_steps %}
      <li class="flex gap-6  bg-white p-6 shadow-subtle transition hover:-translate-y-1">
        <span class="flex h-12 w-12 shrink-0 items-center justify-center  border-4 border-todde-blue/10 bg-todde-blue/5 text-lg font-semibold text-todde-blue">{{ forloop.counter }}</span>
        <div>
          <h3 class="text-xl font-semibold text-todde-blue">{{ step.title }}</h3>
          <p class="mt-2 text-sm text-todde-dark/80">{{ step.description }}</p>
        </div>
      </li>
    {% endfor %}
  </ol>
  <div class="mt-12 text-center">
    <a href="/#contact" class="todde-button-primary">Talk to a financing advisor</a>
  </div>
</section>

<section class="bg-white py-20">
  <div class="container grid gap-12 lg:grid-cols-2 lg:items-center">
    <div class="space-y-6">
      <h2 class="text-3xl font-bold text-todde-blue md:text-4xl">{{ benefits_heading }}</h2>
      {% if benefits_subheading %}
      <p class="text-sm text-todde-dark/70">{{ benefits_subheading }}</p>
      {% endif %}
      <ul class="space-y-4 text-sm text-todde-dark/80">
        {% for benefit in financing_benefits %}
        <li class="flex items-start gap-3">
          {% if benefit.icon %}
            {% marketing_icon benefit.icon 'mt-1 h-6 w-6 text-todde-blue' %}
          {% endif %}
          <span>
            <span class="block font-semibold text-todde-blue">{{ benefit.title }}</span>
            <span class="text-sm text-todde-dark/80">{{ benefit.description }}</span>
          </span>
        </li>
        {% endfor %}
      </ul>
      <div class=" border border-todde-blue/15 bg-todde-blue/5 p-8 shadow-subtle">
        <h3 class="text-lg font-semibold text-todde-blue">{{ eligibility.heading }}</h3>
        <p class="mt-3 text-sm text-todde-dark/70">{{ eligibility.description }}</p>
        {% if eligibility.cta_label and eligibility.cta_url %}
        <a href="{{ eligibility.cta_url }}" class="mt-5 inline-flex items-center gap-2 text-sm font-semibold text-todde-blue hover:text-todde-blue-dark">
          {{ eligibility.cta_label }}
          <span aria-hidden="true">&rarr;</span>
        </a>
        {% endif %}
      </div>
    </div>
    <div class="relative">
      <div class=" bg-gradient-to-br from-white to-todde-blue-light/20 p-8 shadow-card">
        <img
          src="{{ testimonial.image_url }}"
          alt="Happy Todde customers"
          class="h-full w-full  object-cover"
        />
      </div>
      <div class="absolute -bottom-10 right-6 w-60  bg-white p-4 text-sm text-todde-dark shadow-card">
        <p class="font-semibold text-todde-blue">{{ testimonial.card_title }}</p>
        <p class="text-xs text-todde-dark/70">{{ testimonial.card_text }}</p>
      </div>
    </div>
  </div>
</section>

<section class="bg-todde-blue text-white">
  <div class="container grid gap-10 py-16 lg:grid-cols-[1fr_auto] lg:items-center">
    <div class="space-y-6">
      <h2 class="text-3xl font-bold md:text-4xl">{{ corporate.heading }}</h2>
      <p class="text-lg text-white/80">{{ corporate.subheading }}</p>
      <div class="flex flex-col gap-4 sm:flex-row">
        {% if corporate.primary_label and corporate.primary_url %}
        <a href="{{ corporate.primary_url }}" class="todde-button-primary bg-white text-todde-blue hover:bg-white/80">{{ corporate.primary_label }}</a>
        {% endif %}
        {% if corporate.secondary_label and corporate.secondary_url %}
        <a href="{{ corporate.secondary_url }}" class="todde-button-secondary">{{ corporate.secondary_label }}</a>
        {% endif %}
      </div>
    </div>
    <div class=" bg-white/10 p-6 text-sm text-white/80">
      <h3 class="text-lg font-semibold text-white">{{ corporate.availability_heading }}</h3>
      <p class="mt-2">{{ corporate.availability_description }}</p>
    </div>
  </div>
</section>
{% endblock %}
